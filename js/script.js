$(document).ready(function(){for($.sy_ajaxyukle=function(o){var e=$.extend({servis:"",params:"{}",doldur:""},o);AjaxIslemleri.yukle(e.servis,e.params,e.doldur)},$.sy_ajaxislemyukle=function(o){var e=$.extend({servis:"",params:"{}",doldur:""},o);AjaxIslemleri.single_yukle(e.servis,e.params,e.doldur)},$.sy_ajaxjsonyukle=function(o){var e=$.extend({servis:"",params:"{}",doldur:""},o);AjaxIslemleri.json_veri(e.servis,e.params,e.doldur)},$.fn.serializeObject=function(){var o={},e=this.serializeArray();return $.each(e,function(){void 0!==o[this.name]?(o[this.name].push||(o[this.name]=[o[this.name]]),o[this.name].push(this.value||"")):o[this.name]=this.value||""}),o},i=0;i<$(".uicontrol").size();i++){var o=$(".uicontrol:eq('"+i+"')").attr("id");sy.uiLoad(o)}}),$(document).ajaxStart(function(){}),$(document).ajaxStop(function(){}),$(document).ajaxError(function(o,e,t,n){alert("İstek işlenirken bir hata oluştu hata detayları için konsola bakınız."),console.log(o.handleObj.origType+" >> İstek işlenirken bir hata oluştu: "+e.status+" "+e+"<br>"+n+"<br>"+t.url,1e4),console.log(e),console.log(o),console.log(n)});var sy={kodolustur:function(o){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;o>n;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return e},metinkisalt:function(o,e){if(void 0!=o){var t,n,r,a=e,l="...";return o.length>a?(t=o.substr(0,a),n=o.substr(a-1,o.length-a),r=t+l):r=o}},ResolveClientUrl:function(o){var e=window.location.hostname;e=-1!=e.indexOf("localhost")?location.protocol+"//"+window.location.hostname+":"+window.location.port+"/":location.protocol+"//"+window.location.hostname+"/";var t,n=document,r=n.getElementsByTagName("base")[0],a=r&&r.href,l=n.head||n.getElementsByTagName("head")[0],i=r||l.appendChild(n.createElement("base")),s=n.createElement("a");return i.href=e,s.href=o,t=s.href,r?r.href=a:l.removeChild(i),t},uiEditor:function(o){$("#"+o+" .control .surukleniyor").unbind("dblclick"),$("#"+o).before("<p class='baslik'>Geliştirici Modu<br><span style='font-size:10pt; letter-spacing:1px;'>Tasarım Dosyası: <strong>"+sy.ResolveClientUrl("Layouts/")+o+".json</strong></span></p>"),$("#"+o+"Save").remove(),$("#"+o+" .control").addClass("surukleniyor"),$("#"+o).addClass("developer_mode"),$("#"+o+" .control.surukleniyor").dblclick(function(){var o=this.id,e=window.innerHeight,t=window.innerWidth,n=$("#"+o).attr("style");$("body").addClass("sifir"),$("body").append('<div id="modalContainer_'+o+'" class="developer_modal_shadow" style="width:'+t+"px; height:"+e+'px;"></div>'),$("#modalContainer_"+o).append('<div class="developer_modal"><div class="developer_modal_title">&nbsp;&nbsp;'+o+" Özellikleri</div><div><p>Style:</p><textarea>"+n+'</textarea><p><button type="button" class="NormalBtn">Değişiklikleri Kaydet</button><button type="button" class="NormalBtn">Varsayılan</button><button type="button" class="NormalBtn">İptal</button></p><p class="dev_info">Değişiklik yaptıkça arka plan güncellenecektir.</p></div></div>'),$("#modalContainer_"+o+" textarea").keyup(function(){$("#"+o).attr("style",this.value)}),$("#modalContainer_"+o+" button:eq(0)").click(function(){$("#"+o).attr("style",$("#modalContainer_"+o+" textarea").val()),$("#modalContainer_"+o+" button").unbind("click"),$("#modalContainer_"+o+" textarea").unbind("keyup"),$("#modalContainer_"+o).remove(),$("body").removeClass("sifir")}),$("#modalContainer_"+o+" button:eq(1)").click(function(){$("#"+o).attr("style",n),$("#modalContainer_"+o+" textarea").val(n)}),$("#modalContainer_"+o+" button:eq(2)").click(function(){$("#"+o).attr("style",n),$("#modalContainer_"+o+" button").unbind("click"),$("#modalContainer_"+o+" textarea").unbind("keyup"),$("#modalContainer_"+o).remove(),$("body").removeClass("sifir")})}),$("#"+o+" .control.controlLabel").css("background-color","#2ebe77"),$("#"+o+" .control.controlButton").css("background-color","#b1c354"),$("#"+o+" .control.controlInput").css("background-color","#5e84d1"),$("#"+o+" .control.controlTextArea").css("background-color","#ff3333"),$("#"+o+" .control.controlSelect").css("background-color","#99ffcc"),$("#"+o+" .control").draggable({containment:"#"+o,scroll:!1,start:function(o,e){$(this).data("preventBehaviour",!0)}}),$("#"+o+" .control").find(":input").on("mousedown",function(e){var t=new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,view:window});$(this).closest("#"+o+" .control")[0].dispatchEvent(t)}).on("click",function(e){var t=$(this).closest("#"+o+" .control");t.data("preventBehaviour")&&(e.preventDefault(),t.data("preventBehaviour",!1))}),$("#"+o).before("<p  id='"+o+"Save'><button class='NormalBtn' type='button'>Değişiklikleri Kaydet</button>&nbsp;<button class='NormalBtn' type='button'>Vazgeç</button></p>"),$("#"+o+"Save button:eq(0)").attr("onclick","sy.kaydetIcerik('"+o+"');"),$("#"+o+"Save button:eq(1)").attr("onclick","sy.iptalIcerik('"+o+"');")},kaydetIcerik:function(o){$("#"+o+" .control.surukleniyor").unbind("dblclick");var e,t=[];$("#"+o+" .control").removeClass("surukleniyor"),$("#"+o+" .control.controlLabel").css("background-color",""),$("#"+o+" .control.controlButton").css("background-color",""),$("#"+o+" .control.controlInput").css("background-color",""),$("#"+o+" .control.controlTextArea").css("background-color",""),$("#"+o+" .control.controlSelect").css("background-color","");var n=$("#"+o+" .controlLabel").size();for(i=0;i<n;i++){var r=$("#"+o+" .controlLabel:eq("+i+")").attr("style"),a=$("#"+o+" .controlLabel:eq("+i+")").attr("id");e={ID:a,STYLE:r},t.push(e)}var l=$("#"+o+" .controlButton").size();for(i=0;i<l;i++){var r=$("#"+o+" .controlButton:eq("+i+")").attr("style"),a=$("#"+o+" .controlButton:eq("+i+")").attr("id");e={ID:a,STYLE:r},t.push(e)}var s=$("#"+o+" .controlInput").size();for(i=0;i<s;i++){var r=$("#"+o+" .controlInput:eq("+i+")").attr("style"),a=$("#"+o+" .controlInput:eq("+i+")").attr("id");e={ID:a,STYLE:r},t.push(e)}var s=$("#"+o+" .controlTextArea").size();for(i=0;i<s;i++){var r=$("#"+o+" .controlTextArea:eq("+i+")").attr("style"),a=$("#"+o+" .controlTextArea:eq("+i+")").attr("id");e={ID:a,STYLE:r},t.push(e)}var s=$("#"+o+" .controlSelect").size();for(i=0;i<s;i++){var r=$("#"+o+" .controlSelect:eq("+i+")").attr("style"),a=$("#"+o+" .controlSelect:eq("+i+")").attr("id");e={ID:a,STYLE:r},t.push(e)}$("#"+o+" .control").draggable("destroy"),$("#"+o+"Save").remove(),$(".baslik").remove(),$("#"+o).removeClass("developer_mode"),$.ajax({type:"POST",url:sy.ResolveClientUrl("FrameworkHandler.ashx"),data:"layout="+JSON.stringify(t)+"&control="+o,success:function(o){alert(o)}})},iptalIcerik:function(o){$("#"+o+" .control.surukleniyor").unbind("dblclick"),$("#"+o).removeClass("developer_mode"),$("#"+o+" .control .surukleniyor").unbind("dblclick"),$("#"+o+" .control").draggable("destroy"),$("#"+o+" .control").removeClass("surukleniyor"),$("#"+o+" .control.controlLabel").css("background-color",""),$("#"+o+" .control.controlButton").css("background-color",""),$("#"+o+" .control.controlInput").css("background-color",""),$("#"+o+" .control.controlTextArea").css("background-color",""),$("#"+o+" .control.controlSelect").css("background-color",""),$("#"+o+"Save").remove(),$(".baslik").remove(),sy.uiLoad(o)},uiLoad:function(o){$.ajax({async:!1,type:"GET",url:sy.ResolveClientUrl("Layouts/"+o+".json"),contentType:"application/json; charset=utf-8",dataType:"json",success:function(o){for(var e=0;e<o.length;e++)$("#"+o[e].ID).attr("style",o[e].STYLE)},error:function(e){$.ajax({type:"POST",url:sy.ResolveClientUrl("FrameworkHandler.ashx"),data:"layout=[]&control="+o,success:function(o){console.log(o)}}),console.log((new Error).lineNumber+": İçerik yüklenemedi! Eksik veya hatalı parametre!"+e)}})}},AjaxIslemleri={yukle:function(o,e,t){$.ajax({async:!1,type:"POST",url:o,data:e,contentType:"application/json; charset=utf-8",dataType:"json",success:function(o){$(o.d).each(function(){var o=this.split("~");t(o)})},error:function(o){console.log((new Error).lineNumber+": İçerik yüklenemedi! Eksik veya hatalı parametre!"+o)}})},single_yukle:function(o,e,t){$.ajax({async:!1,type:"POST",url:o,data:e,contentType:"application/json; charset=utf-8",dataType:"json",success:function(o){t(o.d)},error:function(o){console.log((new Error).lineNumber+": İçerik yüklenemedi! Eksik veya hatalı parametre!"+o)}})},json_veri:function(o,e,t){$.ajax({async:!1,type:"POST",url:o,data:e,contentType:"application/json; charset=utf-8",dataType:"json",success:function(o){for(var e=jQuery.parseJSON(o.d),n=0;n<e.length;n++)t(e[n])},error:function(o){console.log((new Error).lineNumber+": İçerik yüklenemedi! Eksik veya hatalı parametre!"+o)}})}};